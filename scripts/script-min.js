const canvas=document.querySelector("#container__canvas"),brushBtn=document.querySelector("#btn__brush"),eraserBtn=document.querySelector("#btn__eraser"),clearBtn=document.querySelector("#btn__clear"),oneColorBtn=document.querySelector("#btn__one-color"),toolBtns=document.querySelectorAll(".btn-tool"),colorPickers=document.querySelectorAll(".color-picker"),colors=["#e74c3c","#8e44ad","#3498db","#e67e22","#2ecc71"],squares=500;let currentTool=brushBtn,isPressed=!1,singleColorMode=!1;function getRandomColor(){return colors[Math.floor(Math.random()*colors.length)]}function getToolColor(e){return!1===e?getRandomColor():colors[0]}function setColor(e,o){if(!0===o){const o=getToolColor(singleColorMode);e.style.background=o,e.style.boxShadow=`0 0 2px ${o}, 0 0 10px ${o}`}}function removeColor(e,o){!0===o&&(e.style.background="#1d1d1d",e.style.boxShadow="0 0 2px #000")}function setColorPickersColor(){const e=Array.from(colorPickers);for(let o of e){const t=e.indexOf(o);o.value=colors[t]}}function showActiveTool(e,o){if(o)o.forEach((e=>{e.classList.remove("active")}));else if(e.classList.contains("active"))return void e.classList.remove("active");e.classList.add("active")}function setTool(e){currentTool=e,showActiveTool(e,toolBtns)}function useTool(e,o){currentTool==brushBtn?setColor(e,o):currentTool==eraserBtn&&removeColor(e,o)}function clearCanvas(){const e=document.querySelectorAll(".square");for(let o of e)removeColor(o,!0)}function changeElmText(e,o){e.textContent=o}function findTarget(e,o){const t={x:0,y:0};return"touch"===o?(t.x=e.touches[0].clientX,t.y=e.touches[0].clientY):"mouse"===o&&(t.x=e.clientX,t.y=e.clientY),document.elementFromPoint(t.x,t.y)}function tggleElmArryVisAfterIdx(e,o=0){!0===e?colorPickers.forEach(((e,t)=>{t!==o-1&&(e.style.display="none")})):colorPickers.forEach(((e,t)=>{t!==o-1&&e.style.removeProperty("display")}))}colorPickers.forEach((e=>{e.addEventListener("change",(e=>{const o=e.target.id.slice(-1)-1,t=e.target.value;colors[o]=t}))}));for(let e=0;e<500;e++){const e=document.createElement("div");e.classList.add("square"),canvas.appendChild(e)}setColorPickersColor(),canvas.addEventListener("mousedown",(e=>{e.preventDefault(),isPressed=!0;const o=findTarget(e,"mouse");o.classList.contains("square")&&useTool(o,isPressed)})),canvas.addEventListener("mouseover",(e=>{const o=findTarget(e,"mouse");o.classList.contains("square")&&useTool(o,isPressed)})),canvas.addEventListener("mouseup",(()=>{isPressed=!1})),canvas.addEventListener("touchstart",(e=>{isPressed=!0,e.preventDefault();const o=findTarget(e,"touch");o.classList.contains("square")&&useTool(o,isPressed)})),canvas.addEventListener("touchmove",(e=>{const o=findTarget(e,"touch");o.classList.contains("square")&&useTool(o,isPressed)})),canvas.addEventListener("touchend",(()=>{isPressed=!1})),brushBtn.addEventListener("click",(()=>{setTool(brushBtn)})),eraserBtn.addEventListener("click",(()=>{setTool(eraserBtn)})),clearBtn.addEventListener("click",(()=>{clearCanvas()})),oneColorBtn.addEventListener("click",(()=>{if(!1===singleColorMode)return singleColorMode=!0,changeElmText(oneColorBtn,"5 Colors"),void tggleElmArryVisAfterIdx(!0,1);singleColorMode=!1,changeElmText(oneColorBtn,"1 Color"),tggleElmArryVisAfterIdx(!1)}));
//# sourceMappingURL=script-min.js.map